<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>

<body>

<p id="result"></p>

<script type="text/javascript">


// WebSocketオープン

var ws = new WebSocket("ws://192.168.1.9:8080/talk");


// データ受信時にコールバックするイベントリスナを登録

ws.addEventListener("message", 

        function(e) {

                // 受信結果を表示

                document.getElementById("result").innerHTML = 
                        document.getElementById("result").innerHTML + e.data + "<br>";

        }

);


// WebSocketクローズ時にコールバックするイベントリスナを登録

ws.addEventListener("close",   

        function(e) {

                // WebSocketクローズを知らせる

                document.getElementById("result").innerHTML = "接続を閉じました";

        }

);

</script>
</body>
